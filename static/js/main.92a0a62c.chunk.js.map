{"version":3,"sources":["types/index.ts","redux/index.ts","scripts/usageDataController.ts","components/Dashboard.tsx","components/Navbar.tsx","components/Input.tsx","components/Taskbar.tsx","components/App.tsx","index.tsx"],"names":["ActionTypes","InitialProductFragment","medium","tariff","supplier","tariffType","paymentMethod","standingCharge","onlineDiscount","from","dualFuelDiscount","annualConsumption","annualCost","tcr","exitFees","unitRates","Standard","Day","Night","Peak","__typename","tariffEndsOn","priceGuaranteedUntil","isEconomy7","isSmartPayg","meterGenerationType","InitialProductDetails","gas","electricity","InitialUsageData","date","usage","cost","rates","name","InitialMeterPoints","technicalDetailsDate","type","smart","canAcceptReadings","readings","cumulative","register","quality","readingDate","source","unit","InitialAccount","currency","balance","pendingBalance","inRangeOfSmartInstaller","initialState","location","isDark","dateCounter","selectedDate","usageData","dailyBudget","elec","productDetails","meterPoints","account","locationSelector","state","isDarkSelector","nameSelector","dateCounterSelector","selectedDateSelector","usageDataSelector","dailyBudgetSelector","store","createStore","action","setLocation","payload","setIsDark","setName","setDateCounter","setSelectedDate","setUsageData","setDailyBudget","setProductDetails","setMeterPoints","setAccount","roundTo2","num","Math","round","Number","EPSILON","calcBudget","days","budge","calcWidth","mapDispatchToProps","initData","undefined","connect","openInput","useState","data","setData","setDays","elecBudget","setElecBudget","gasBudget","setGasBudget","combinedBudget","setCombinedBudget","useEffect","map","d","reduce","a","c","overviewCalc","length","dayCounter","dayCalc","slice","weekCalc","monthCalc","now","Date","find","toISOString","yearCalc","dBE","dBG","className","style","marginLeft","marginTop","paddingTop","id","onClick","margin","width","alt","navitems","close","zIndex","title","i","classes","FullLogs","error","isExpanded","setIsExpanded","display","flexDirection","height","marginRight","setIsOpenInput","value","setValue","text","loginAttempt","setLoginAttempt","onSubmit","e","preventDefault","htmlFor","autoComplete","onChange","target","placeholder","input","fetch","method","mode","body","JSON","stringify","headers","json","res","verified","obj","console","open","handleDateChange","v","log","process","NAVITEMS","isOpenInput","mySidebar","document","getElementById","overlayBg","cursor","ReactDOM","render"],"mappings":"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","file":"static/js/main.92a0a62c.chunk.js","sourcesContent":["// ----------------------------------------------\r\n// DATA TYPES\r\n// ----------------------------------------------\r\nexport type UnitRatesType = {\r\n  Standard: number;\r\n  Day: number;\r\n  Night: number;\r\n  Peak: number;\r\n  __typename: string;\r\n};\r\n\r\nexport type ProductFragmentType = {\r\n  medium: string;\r\n  tariff: string;\r\n  supplier: string;\r\n  tariffType: string;\r\n  paymentMethod: string;\r\n  standingCharge: number;\r\n  onlineDiscount: number;\r\n  from: string;\r\n  dualFuelDiscount: number;\r\n  annualConsumption: string;\r\n  annualCost: number;\r\n  tcr: string;\r\n  exitFees: number;\r\n  unitRates: UnitRatesType;\r\n  tariffEndsOn: string;\r\n  priceGuaranteedUntil: string;\r\n  isEconomy7: boolean;\r\n  isSmartPayg: boolean;\r\n  meterGenerationType: string;\r\n  __typename: String;\r\n};\r\n\r\nexport type ProductDetailsType = {\r\n  gas: ProductFragmentType;\r\n  electricity: ProductFragmentType;\r\n  __typename: string;\r\n};\r\n\r\nexport type UsageDataType = {\r\n  date: string;\r\n  usage: {\r\n    gas: { cost: string; __typename: string };\r\n    electricity: {\r\n      cost: number;\r\n      rates: [{ cost: number; name: string; __typename: string }];\r\n      __typename: string;\r\n    };\r\n    __typename: string;\r\n  };\r\n  __typename: string;\r\n};\r\n\r\nexport type MeterPointsType = {\r\n  from: string;\r\n  technicalDetailsDate: string;\r\n  type: string;\r\n  smart: boolean;\r\n  canAcceptReadings: boolean;\r\n  __typename: string;\r\n  readings: [\r\n    {\r\n      cumulative: number;\r\n      register: string;\r\n      quality: string;\r\n      readingDate: string;\r\n      source: string;\r\n      unit: string;\r\n      __typename: string;\r\n    }\r\n  ];\r\n};\r\n\r\nexport type AccountType = {\r\n  currency: string;\r\n  balance: number;\r\n  pendingBalance: number;\r\n  inRangeOfSmartInstaller: boolean;\r\n  __typename: string;\r\n};\r\n\r\nexport type EnergyDataType = {\r\n  productDetails: ProductDetailsType;\r\n  usageData: UsageDataType[];\r\n  meterPoints: MeterPointsType[];\r\n  account: AccountType;\r\n  dateModified: string;\r\n};\r\n\r\n// --------------------------------------------\r\n// REDUX\r\n// --------------------------------------------\r\n\r\nexport type DailyBudgetType = { elec: number; gas: number };\r\nexport type StateType = {\r\n  location: string;\r\n  isDark: boolean;\r\n  name: string;\r\n  dateCounter: number;\r\n  selectedDate: string | null;\r\n  usageData: UsageDataType[];\r\n  dailyBudget: DailyBudgetType;\r\n  account: AccountType;\r\n  meterPoints: MeterPointsType[];\r\n  productDetails: ProductDetailsType;\r\n};\r\n\r\nexport enum ActionTypes {\r\n  setLocation = \"setLocation\",\r\n  setIsDark = \"setIsDark\",\r\n  setName = \"setName\",\r\n  setDateCounter = \"setDateCounter\",\r\n  setSelectedDate = \"setSelectedDate\",\r\n  setUsageData = \"setUsageData\",\r\n  setDailyBudget = \"setDailyBudget\",\r\n  setProductDetails = \"setProductDetails\",\r\n  setMeterPoints = \"setMeterPoints\",\r\n  setAccount = \"setAccount\",\r\n}\r\n\r\nexport type ReducerPayloadType =\r\n  | { type: ActionTypes.setLocation; payload: StateType[\"location\"] }\r\n  | { type: ActionTypes.setIsDark; payload: StateType[\"isDark\"] }\r\n  | { type: ActionTypes.setName; payload: StateType[\"name\"] }\r\n  | { type: ActionTypes.setDateCounter; payload: StateType[\"dateCounter\"] }\r\n  | { type: ActionTypes.setSelectedDate; payload: StateType[\"selectedDate\"] }\r\n  | { type: ActionTypes.setUsageData; payload: StateType[\"usageData\"] }\r\n  | { type: ActionTypes.setDailyBudget; payload: StateType[\"dailyBudget\"] }\r\n  | {\r\n      type: ActionTypes.setProductDetails;\r\n      payload: StateType[\"productDetails\"];\r\n    }\r\n  | { type: ActionTypes.setMeterPoints; payload: StateType[\"meterPoints\"] }\r\n  | { type: ActionTypes.setAccount; payload: StateType[\"account\"] };\r\n\r\nexport const InitialUnitRates: UnitRatesType = {\r\n  Standard: 0,\r\n  Day: 0,\r\n  Night: 0,\r\n  Peak: 0,\r\n  __typename: \"\",\r\n};\r\n\r\nexport const InitialProductFragment: ProductFragmentType = {\r\n  medium: \"\",\r\n  tariff: \"\",\r\n  supplier: \"\",\r\n  tariffType: \"\",\r\n  paymentMethod: \"\",\r\n  standingCharge: 0,\r\n  onlineDiscount: 0,\r\n  from: \"\",\r\n  dualFuelDiscount: 0,\r\n  annualConsumption: \"\",\r\n  annualCost: 0,\r\n  tcr: \"\",\r\n  exitFees: 0,\r\n  unitRates: InitialUnitRates,\r\n  tariffEndsOn: \"\",\r\n  priceGuaranteedUntil: \"\",\r\n  isEconomy7: true,\r\n  isSmartPayg: true,\r\n  meterGenerationType: \"\",\r\n  __typename: \"\",\r\n};\r\n\r\nexport const InitialProductDetails: ProductDetailsType = {\r\n  gas: InitialProductFragment,\r\n  electricity: InitialProductFragment,\r\n  __typename: \"\",\r\n};\r\n\r\nexport const InitialUsageData: UsageDataType = {\r\n  date: \"\",\r\n  usage: {\r\n    gas: { cost: \"\", __typename: \"\" },\r\n    electricity: {\r\n      cost: 0,\r\n      rates: [{ cost: 0, name: \"\", __typename: \"\" }],\r\n      __typename: \"\",\r\n    },\r\n    __typename: \"\",\r\n  },\r\n  __typename: \"\",\r\n};\r\n\r\nexport const InitialMeterPoints: MeterPointsType = {\r\n  from: \"\",\r\n  technicalDetailsDate: \"\",\r\n  type: \"\",\r\n  smart: true,\r\n  canAcceptReadings: true,\r\n  __typename: \"\",\r\n  readings: [\r\n    {\r\n      cumulative: 0,\r\n      register: \"\",\r\n      quality: \"\",\r\n      readingDate: \"\",\r\n      source: \"\",\r\n      unit: \"\",\r\n      __typename: \"\",\r\n    },\r\n  ],\r\n};\r\n\r\nexport const InitialAccount: AccountType = {\r\n  currency: \"\",\r\n  balance: 0,\r\n  pendingBalance: 0,\r\n  inRangeOfSmartInstaller: true,\r\n  __typename: \"\",\r\n};\r\n\r\nexport const InitialEnergyData: EnergyDataType = {\r\n  productDetails: InitialProductDetails,\r\n  usageData: [InitialUsageData],\r\n  meterPoints: [InitialMeterPoints],\r\n  account: InitialAccount,\r\n  dateModified: \"2021-01-01T00:00:00.000Z\",\r\n};\r\n\r\nexport const InitialDailyBudget: DailyBudgetType = {\r\n  elec: 1.0,\r\n  gas: 1.0,\r\n};\r\n\r\n// -----------------------------------------------------\r\n// SERVER DATA TYPES\r\n// -----------------------------------------------------\r\n\r\nexport type UpdateResponseType = {\r\n  name: string;\r\n  verified: boolean;\r\n  obj: EnergyDataType;\r\n  text: string;\r\n  error: string | undefined;\r\n};\r\n\r\n// -----------------------------------------------------\r\n// DISPATCH ACTION TYPES\r\n// -----------------------------------------------------\r\n\r\nexport type ActionGenericType<T> = (payload: T) => ReducerPayloadType; //{ payload: T; type: string };\r\n","import { createStore } from \"redux\";\r\nimport {\r\n  InitialAccount,\r\n  InitialMeterPoints,\r\n  InitialProductDetails,\r\n  InitialUsageData,\r\n  StateType,\r\n  ReducerPayloadType,\r\n  InitialDailyBudget,\r\n  ActionTypes,\r\n} from \"../types\";\r\n// ---------------------------------\r\n// INITIAL APP STATE\r\n// ---------------------------------\r\n\r\nexport const initialState: StateType = {\r\n  location: \"Overview\",\r\n  isDark: true,\r\n  name: \"Guest\",\r\n  dateCounter: 0,\r\n  selectedDate: null,\r\n  usageData: [InitialUsageData],\r\n  dailyBudget: InitialDailyBudget,\r\n  productDetails: InitialProductDetails,\r\n  meterPoints: [InitialMeterPoints],\r\n  account: InitialAccount,\r\n};\r\n\r\n// ---------------------------------\r\n// SELECTORS\r\n// ---------------------------------\r\n\r\nexport const locationSelector = (state: StateType) => state.location;\r\nexport const isDarkSelector = (state: StateType) => state.isDark;\r\nexport const nameSelector = (state: StateType) => state.name;\r\nexport const dateCounterSelector = (state: StateType) => state.dateCounter;\r\nexport const selectedDateSelector = (state: StateType) => state.selectedDate;\r\nexport const usageDataSelector = (state: StateType) => state.usageData;\r\nexport const productDetailsSelector = (state: StateType) =>\r\n  state.productDetails;\r\nexport const meterPointsSelector = (state: StateType) => state.meterPoints;\r\nexport const accountSelector = (state: StateType) => state.account;\r\nexport const dailyBudgetSelector = (state: StateType) => state.dailyBudget;\r\n\r\n// ---------------------------------\r\n// REDUCER\r\n// ---------------------------------\r\n\r\nfunction reducer(\r\n  state: StateType = initialState,\r\n  action: ReducerPayloadType\r\n): StateType {\r\n  switch (action.type) {\r\n    case ActionTypes.setLocation:\r\n      return { ...state, location: action.payload };\r\n    case ActionTypes.setIsDark:\r\n      return { ...state, isDark: action.payload };\r\n    case ActionTypes.setName:\r\n      return { ...state, name: action.payload };\r\n    case ActionTypes.setDateCounter:\r\n      return { ...state, dateCounter: action.payload };\r\n    case ActionTypes.setSelectedDate:\r\n      return { ...state, selectedDate: action.payload };\r\n    case ActionTypes.setUsageData:\r\n      return { ...state, usageData: action.payload };\r\n    case ActionTypes.setDailyBudget:\r\n      return { ...state, dailyBudget: action.payload };\r\n    case ActionTypes.setProductDetails:\r\n      return { ...state, productDetails: action.payload };\r\n    case ActionTypes.setMeterPoints:\r\n      return { ...state, meterPoints: action.payload };\r\n    case ActionTypes.setAccount:\r\n      return { ...state, account: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","import { UsageDataType } from \"../types\";\r\n\r\nexport function roundTo2(num: number): number {\r\n  return Math.round((num + Number.EPSILON) * 100) / 100;\r\n}\r\n\r\nexport function calcBudget(num: number, days: number, budge: number): number {\r\n  return roundTo2((num / (days * budge)) * 100);\r\n}\r\n\r\nexport function calcWidth(budge: number): number {\r\n  return roundTo2((budge / 125) * 100);\r\n}\r\n\r\nexport function overviewCalc(usageData: UsageDataType[] | undefined) {\r\n  const electricity = roundTo2(\r\n    usageData\r\n      ?.map((d: UsageDataType) => Number(d.usage?.electricity?.cost) ?? 0)\r\n      .reduce((a: number, c: number) => a + c, 0) || 0\r\n  );\r\n  const gas = roundTo2(\r\n    usageData\r\n      ?.map((d: UsageDataType) => Number(d.usage?.gas?.cost) ?? 0)\r\n      .reduce((a: number, c: number) => a + c, 0) || 0\r\n  );\r\n  return {\r\n    gas,\r\n    electricity,\r\n    date: null,\r\n  };\r\n}\r\n\r\nexport function dayCalc(\r\n  usageData: UsageDataType[] | undefined,\r\n  dayCounter: number\r\n) {\r\n  // const now = new Date();\r\n  // const data = usageData?.find(\r\n  //   (d: UsageDataType) => d.date === now.toISOString().slice(0, 10)\r\n  // );\r\n  const data = usageData?.[dayCounter];\r\n  return {\r\n    gas: roundTo2(Number(data?.usage?.gas?.cost)) || undefined,\r\n    electricity: roundTo2(Number(data?.usage?.electricity?.cost)) || undefined,\r\n    date: data?.date || null,\r\n  };\r\n}\r\n\r\nexport function weekCalc(usageData: UsageDataType[] | undefined) {\r\n  const electricity = roundTo2(\r\n    usageData\r\n      ?.slice(-7)\r\n      ?.map((d: UsageDataType) => Number(d.usage?.electricity?.cost) ?? 0)\r\n      .reduce((a: number, c: number) => a + c, 0) || 0\r\n  );\r\n  const gas = roundTo2(\r\n    usageData\r\n      ?.slice(-7)\r\n      ?.map((d: UsageDataType) => Number(d.usage?.gas?.cost) ?? 0)\r\n      .reduce((a: number, c: number) => a + c, 0) || 0\r\n  );\r\n  return {\r\n    gas,\r\n    electricity,\r\n    date: null,\r\n  };\r\n}\r\n\r\nexport function monthCalc(usageData: UsageDataType[] | undefined) {\r\n  const electricity = roundTo2(\r\n    usageData\r\n      ?.slice(-30)\r\n      ?.map((d: UsageDataType) => Number(d.usage?.electricity?.cost) ?? 0)\r\n      .reduce((a: number, c: number) => a + c, 0) || 0\r\n  );\r\n  const gas = roundTo2(\r\n    usageData\r\n      ?.slice(-30)\r\n      ?.map((d: UsageDataType) => Number(d.usage?.gas?.cost) ?? 0)\r\n      .reduce((a: number, c: number) => a + c, 0) || 0\r\n  );\r\n  return {\r\n    gas,\r\n    electricity,\r\n    date: null,\r\n  };\r\n}\r\n\r\nexport function yearCalc(usageData: UsageDataType[] | undefined) {\r\n  const now = new Date();\r\n  const data = usageData?.find(\r\n    (d: UsageDataType) => d.date === now.toISOString().slice(0, 10)\r\n  );\r\n  return {\r\n    gas: Number(data?.usage?.gas?.cost),\r\n    electricity: Number(data?.usage?.electricity?.cost),\r\n    date: null,\r\n  };\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  dailyBudgetSelector,\r\n  isDarkSelector,\r\n  locationSelector,\r\n  usageDataSelector,\r\n  dateCounterSelector,\r\n} from \"../redux\";\r\n\r\nimport {\r\n  roundTo2,\r\n  calcBudget,\r\n  calcWidth,\r\n  overviewCalc,\r\n  weekCalc,\r\n  dayCalc,\r\n  monthCalc,\r\n  yearCalc,\r\n} from \"../scripts/usageDataController\";\r\nimport {\r\n  DailyBudgetType,\r\n  StateType,\r\n  UsageDataType,\r\n  ActionTypes,\r\n  ReducerPayloadType,\r\n  ActionGenericType,\r\n} from \"../types\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n  return {\r\n    usageData: usageDataSelector(state),\r\n    isDark: isDarkSelector(state),\r\n    dailyBudget: dailyBudgetSelector(state),\r\n    location: locationSelector(state),\r\n    dateCounter: dateCounterSelector(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setSelectedDate: (payload: string | null): ReducerPayloadType => ({\r\n    type: ActionTypes.setSelectedDate,\r\n    payload,\r\n  }),\r\n};\r\n\r\ninterface Props {\r\n  openInput?: () => void;\r\n  usageData?: UsageDataType[];\r\n  isDark?: boolean;\r\n  dailyBudget?: DailyBudgetType;\r\n  location?: string;\r\n  dateCounter: number;\r\n  setSelectedDate: ActionGenericType<string | null>;\r\n}\r\n\r\ninterface DataType {\r\n  electricity: number | undefined;\r\n  gas: number | undefined;\r\n  date: string | null;\r\n}\r\n\r\nconst initData = {\r\n  electricity: undefined,\r\n  gas: undefined,\r\n  date: null,\r\n};\r\n\r\nconst Dashboard = ({\r\n  openInput,\r\n  usageData,\r\n  isDark,\r\n  dailyBudget,\r\n  location,\r\n  dateCounter,\r\n  setSelectedDate,\r\n}: Props) => {\r\n  const [data, setData] = useState<DataType>(initData);\r\n  const [days, setDays] = useState(1);\r\n  const [elecBudget, setElecBudget] = useState(1);\r\n  const [gasBudget, setGasBudget] = useState(1);\r\n  const [combinedBudget, setCombinedBudget] = useState(1);\r\n  useEffect(() => {\r\n    switch (location) {\r\n      case \"Overview\":\r\n        setData(overviewCalc(usageData));\r\n        setDays(usageData?.length ?? 1);\r\n        break;\r\n      case \"Today\":\r\n        setData(dayCalc(usageData, dateCounter));\r\n        setDays(1);\r\n        break;\r\n      case \"This Week\":\r\n        setData(weekCalc(usageData));\r\n        setDays(7);\r\n        break;\r\n      case \"This Month\":\r\n        setData(monthCalc(usageData));\r\n        setDays(30);\r\n        break;\r\n      case \"This Year\":\r\n        setData(yearCalc(usageData));\r\n        setDays(365);\r\n        break;\r\n      default:\r\n        setData({ electricity: 0, gas: 0, date: null });\r\n        break;\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [location, dateCounter]);\r\n  useEffect(() => {\r\n    const { electricity = 0, gas = 0, date = null } = data;\r\n    const dBE = dailyBudget?.elec ?? 1;\r\n    const dBG = dailyBudget?.gas ?? 1;\r\n    setElecBudget(calcBudget(electricity, days, dBE));\r\n    setGasBudget(calcBudget(gas, days, dBG));\r\n    setCombinedBudget(calcBudget(gas + electricity, days, dBE + dBG));\r\n    setSelectedDate(date);\r\n    // eslint-disable-next-line\r\n  }, [data, days]);\r\n\r\n  const { electricity = 0, gas = 0 } = data;\r\n\r\n  return (\r\n    <div className=\"main\" style={{ marginLeft: \"300px\", marginTop: \"43px\" }}>\r\n      <header className=\"container\" style={{ paddingTop: \"22px\" }}>\r\n        <h5>\r\n          <b>\r\n            <i className=\"fa fa-dashboard\"></i>\r\n            <button\r\n              id=\"updateBtn\"\r\n              className={`${isDark ? \"dark-button\" : \"\"}`}\r\n              onClick={openInput}\r\n            >\r\n              {\" \"}\r\n              Update Dashboard\r\n            </button>\r\n          </b>\r\n        </h5>\r\n      </header>\r\n\r\n      <div className=\"row-padding margin-bottom\">\r\n        <div className=\"quarter\">\r\n          <div className=\"container red padding-16\">\r\n            <div className=\"left\">\r\n              <i className=\"fas fa-bolt xxxlarge\"></i>\r\n            </div>\r\n            <div className=\"right\">\r\n              <h3 id=\"electricity-consumption\">{electricity || \"~\"}</h3>\r\n            </div>\r\n            <div className=\"clear\"></div>\r\n            <h4>Electricity</h4>\r\n          </div>\r\n        </div>\r\n        <div className=\"quarter\">\r\n          <div className=\"container blue padding-16\">\r\n            <div className=\"left\">\r\n              <i className=\"fas fa-fire xxxlarge\"></i>\r\n            </div>\r\n            <div className=\"right\">\r\n              <h3 id=\"gas-consumption\">{gas || \"~\"}</h3>\r\n            </div>\r\n            <div className=\"clear\"></div>\r\n            <h4>Gas</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"panel\">\r\n        <div className=\"row-padding\" style={{ margin: \"0-16px\" }}>\r\n          <div className=\"third\">\r\n            <h5>Graph</h5>\r\n            <img style={{ width: \"100%\" }} alt=\"Placeholder\" />\r\n          </div>\r\n          <div className=\"twothird\">\r\n            <h5>Consumption</h5>\r\n            <table\r\n              className={`table ${\r\n                isDark ? \"dark-striped dark-table\" : \"striped white\"\r\n              }`}\r\n            >\r\n              <tbody>\r\n                <tr>\r\n                  <td>\r\n                    <i className=\"fa fa-bolt text-blue large\"></i>\r\n                  </td>\r\n                  <td>Electricity</td>\r\n                  <td>\r\n                    <i className=\"fa fa-pound-sign\"></i> {electricity}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    <i className=\"fa fa-fire text-red large\"></i>\r\n                  </td>\r\n                  <td>Gas</td>\r\n                  <td>\r\n                    <i className=\"fa fa-pound-sign\"></i> {gas}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    <i className=\"fa fa-lightbulb text-yellow large\"></i>\r\n                  </td>\r\n                  <td>Combined</td>\r\n                  <td>\r\n                    <i className=\"fa fa-pound-sign\"></i>{\" \"}\r\n                    {roundTo2(gas + electricity)}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div className=\"container\">\r\n        <h5>Budget for Period: {days} Days</h5>\r\n        <p>Electricity Cost</p>\r\n        <div className={`${isDark ? \"dark-bar\" : \"grey\"}`}>\r\n          <div\r\n            className={`container center padding ${\r\n              elecBudget > 100 ? \"over-budget-elec\" : \"red\"\r\n            }`}\r\n            style={{ width: `${calcWidth(elecBudget)}%` }}\r\n          >\r\n            {elecBudget}%\r\n          </div>\r\n        </div>\r\n\r\n        <p>Gas Cost</p>\r\n        <div className={`${isDark ? \"dark-bar\" : \"grey\"}`}>\r\n          <div\r\n            className={`container center padding ${\r\n              gasBudget > 100 ? \"over-budget-gas\" : \"blue\"\r\n            }`}\r\n            style={{ width: `${calcWidth(gasBudget)}%` }}\r\n          >\r\n            {gasBudget}%\r\n          </div>\r\n        </div>\r\n\r\n        <p>Combined Cost</p>\r\n        <div className={`${isDark ? \"dark-bar\" : \"grey\"}`}>\r\n          <div\r\n            className={`container center padding ${\r\n              combinedBudget > 100 ? \"over-budget-comb\" : \"green\"\r\n            }`}\r\n            style={{ width: `${calcWidth(combinedBudget)}%` }}\r\n          >\r\n            {combinedBudget}%\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n\r\n      <div className=\"container\"></div>\r\n      <div className=\"container dark-grey padding-16\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { nameSelector, locationSelector, isDarkSelector } from \"../redux\";\r\nimport {\r\n  ActionGenericType,\r\n  ActionTypes,\r\n  StateType,\r\n  ReducerPayloadType,\r\n} from \"../types\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n  return {\r\n    location: locationSelector(state),\r\n    name: nameSelector(state),\r\n    isDark: isDarkSelector(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setLocation: (payload: string): ReducerPayloadType => ({\r\n    type: ActionTypes.setLocation,\r\n    payload,\r\n  }),\r\n};\r\n\r\ninterface Props {\r\n  navitems: { classes: string; name: string }[];\r\n  close: () => void;\r\n  name: string;\r\n  setLocation: ActionGenericType<string>;\r\n  location: string;\r\n  isDark: boolean;\r\n}\r\n\r\nconst Navbar = ({\r\n  navitems,\r\n  close,\r\n  name,\r\n  setLocation,\r\n  location,\r\n  isDark,\r\n}: Props) => {\r\n  const COMMON_CLASSES = \"fa-fw padding-right\";\r\n\r\n  return (\r\n    <nav\r\n      className={`sidebar collapse animate-left ${\r\n        isDark ? \"dark-nav\" : \"white\"\r\n      }`}\r\n      style={{ zIndex: 3, width: \"300px\" }}\r\n      id=\"mySidebar\"\r\n    >\r\n      <br />\r\n      <div className=\"container row\">\r\n        <div className=\"col s1\">\r\n          <span className=\"circle margin-right\">\r\n            <i className=\"fas fa-user\"></i>\r\n          </span>\r\n        </div>\r\n        <div className=\"col s10 bar\">\r\n          <span>\r\n            Welcome, <strong>{name}</strong>\r\n          </span>\r\n          <br />\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div className=\"container\">\r\n        <h5>Dashboard</h5>\r\n      </div>\r\n      <div className=\"bar-block\">\r\n        <button\r\n          className=\"bar-item button padding-16 hide-large dark-grey hover-black\"\r\n          onClick={() => close()}\r\n          title=\"close menu\"\r\n        >\r\n          <i className=\"fas fa-remove\"></i>Â  Close Menu\r\n        </button>\r\n        {navitems.map(({ name, classes }, i: number) => (\r\n          <button\r\n            key={i}\r\n            onClick={() => {\r\n              setLocation(name);\r\n              close();\r\n            }}\r\n            className={`bar-item button ${\r\n              location === name ? \"highlight\" : \"\"\r\n            }`}\r\n          >\r\n            <i className={classes + COMMON_CLASSES}></i>\r\n            {name}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  AccountType,\r\n  MeterPointsType,\r\n  ProductDetailsType,\r\n  UsageDataType,\r\n  UpdateResponseType,\r\n  ActionGenericType,\r\n  ActionTypes,\r\n  ReducerPayloadType,\r\n} from \"../types\";\r\n\r\nconst URL =\r\n  process.env.REACT_APP_MODE === (\"development\" || \"test\")\r\n    ? \"http://localhost:8000\"\r\n    : \"https://energy-app-api.herokuapp.com/\";\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     location: locationSelector(state),\r\n//   };\r\n// };\r\n\r\nconst mapDispatchToProps = {\r\n  setName: (payload: string): ReducerPayloadType => ({\r\n    type: ActionTypes.setName,\r\n    payload,\r\n  }),\r\n  setProductDetails: (payload: ProductDetailsType): ReducerPayloadType => ({\r\n    type: ActionTypes.setProductDetails,\r\n    payload,\r\n  }),\r\n  setMeterPoints: (payload: MeterPointsType[]): ReducerPayloadType => ({\r\n    type: ActionTypes.setMeterPoints,\r\n    payload,\r\n  }),\r\n  setAccount: (payload: AccountType): ReducerPayloadType => ({\r\n    type: ActionTypes.setAccount,\r\n    payload,\r\n  }),\r\n  setUsageData: (payload: UsageDataType[]): ReducerPayloadType => ({\r\n    type: ActionTypes.setUsageData,\r\n    payload,\r\n  }),\r\n};\r\n\r\ninterface Props {\r\n  setName: ActionGenericType<string>;\r\n  setProductDetails: ActionGenericType<ProductDetailsType>;\r\n  setMeterPoints: ActionGenericType<MeterPointsType[]>;\r\n  setAccount: ActionGenericType<AccountType>;\r\n  setIsOpenInput: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setUsageData: ActionGenericType<UsageDataType[]>;\r\n}\r\n\r\nconst Input = ({\r\n  setName,\r\n  setProductDetails,\r\n  setMeterPoints,\r\n  setAccount,\r\n  setIsOpenInput,\r\n  setUsageData,\r\n}: Props) => {\r\n  const [value, setValue] = useState(\"\");\r\n  const [loginAttempt, setLoginAttempt] = useState({ text: \"\", error: \"\" });\r\n\r\n  const verifyAndLogin = (input: string) => {\r\n    setLoginAttempt({ text: \"Attempting to verify...\", error: \"\" });\r\n    (async () => {\r\n      try {\r\n        const res: UpdateResponseType = await (\r\n          await fetch(URL, {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            body: JSON.stringify({ input }),\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          })\r\n        ).json();\r\n        if (res.verified && !res.error) {\r\n          setIsOpenInput(false);\r\n          setName(res.name);\r\n          setProductDetails(res.obj.productDetails);\r\n          setMeterPoints(res.obj.meterPoints);\r\n          setAccount(res.obj.account);\r\n          setUsageData(res.obj.usageData);\r\n        } else {\r\n          setName(res.name || \"Guest\");\r\n          setLoginAttempt({ text: res.text, error: res.error as string });\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n        setLoginAttempt({ text: \"Failed to verify password...\", error: err });\r\n      }\r\n    })();\r\n  };\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    setValue(e?.target?.value);\r\n  };\r\n  return (\r\n    <form id=\"input\" onSubmit={(e) => e.preventDefault()}>\r\n      <button onClick={() => setIsOpenInput(false)}>X</button>\r\n      <h3>{loginAttempt.text}</h3>\r\n      <label htmlFor=\"pass\">Password</label>\r\n      <input\r\n        autoComplete=\"off\"\r\n        id=\"pass\"\r\n        type=\"password\"\r\n        onChange={onChange}\r\n        value={value}\r\n        placeholder=\"Enter Password...\"\r\n      />\r\n      <button id=\"submitBtn\" onClick={() => verifyAndLogin(value)}>\r\n        Submit\r\n      </button>\r\n      {loginAttempt.error && <FullLogs error={loginAttempt.error} />}\r\n    </form>\r\n  );\r\n};\r\n\r\nconst FullLogs = ({ error }: { error: string }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          marginTop: \"1em\",\r\n          height: \"30px\",\r\n        }}\r\n      >\r\n        <button\r\n          onClick={() => setIsExpanded(!isExpanded)}\r\n          style={{ marginLeft: \"0px\", marginRight: \"5px\" }}\r\n        >\r\n          {isExpanded ? \"-\" : \"+\"}\r\n        </button>\r\n        <p style={{ height: \"30px\", margin: \"0px\" }}>Full error...</p>\r\n      </div>\r\n      {isExpanded && <p>{`${error}`}</p>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Input);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  isDarkSelector,\r\n  dateCounterSelector,\r\n  selectedDateSelector,\r\n  usageDataSelector,\r\n} from \"../redux\";\r\nimport {\r\n  ActionGenericType,\r\n  ActionTypes,\r\n  ReducerPayloadType,\r\n  StateType,\r\n  UsageDataType,\r\n} from \"../types\";\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n  return {\r\n    isDark: isDarkSelector(state),\r\n    dateCounter: dateCounterSelector(state),\r\n    selectedDate: selectedDateSelector(state),\r\n    usageData: usageDataSelector(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setIsDark: (payload: boolean): ReducerPayloadType => ({\r\n    type: ActionTypes.setIsDark,\r\n    payload,\r\n  }),\r\n  setDateCounter: (payload: number): ReducerPayloadType => ({\r\n    type: ActionTypes.setDateCounter,\r\n    payload,\r\n  }),\r\n};\r\n\r\ninterface Props {\r\n  isDark: boolean;\r\n  setIsDark: ActionGenericType<boolean>;\r\n  open: () => void;\r\n  setDateCounter: ActionGenericType<number>;\r\n  selectedDate: string | null;\r\n  dateCounter: number;\r\n  usageData: UsageDataType[];\r\n}\r\n\r\nconst Taskbar = ({\r\n  isDark,\r\n  setIsDark,\r\n  open,\r\n  setDateCounter,\r\n  selectedDate,\r\n  dateCounter,\r\n  usageData,\r\n}: Props) => {\r\n  const handleDateChange = (v: number) => {\r\n    setDateCounter(\r\n      dateCounter === 0 && v < 0\r\n        ? 0\r\n        : dateCounter === usageData.length - 1 && v > 0\r\n        ? dateCounter\r\n        : dateCounter + v\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"bar top black large\" style={{ zIndex: 4 }}>\r\n      <button\r\n        className=\"bar-item button hide-large hover-none hover-text-white\"\r\n        onClick={() => open()}\r\n      >\r\n        <i className=\"fas fa-bars\"></i>\r\n      </button>\r\n      {selectedDate && (\r\n        <div id=\"date-selector\" className=\"bar-item padding-0\">\r\n          <button className=\"button\" onClick={() => handleDateChange(-1)}>\r\n            <span>\r\n              <i className=\"fas fa-arrow-left\"></i>\r\n            </span>\r\n          </button>\r\n          {selectedDate}\r\n          <button className=\"button\" onClick={() => handleDateChange(1)}>\r\n            <span>\r\n              <i className=\"fas fa-arrow-right\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n      )}\r\n      <button\r\n        onClick={() => setIsDark(!isDark)}\r\n        className={`right button bar-item ${isDark ? \"\" : \"lightbulb\"}`}\r\n      >\r\n        <span>\r\n          <i\r\n            className={`fa fa-lightbulb ${isDark ? \"light-off\" : \"light-on\"}`}\r\n          ></i>\r\n        </span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Taskbar);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { isDarkSelector } from \"../redux\";\r\n\r\nimport Dashboard from \"./Dashboard\";\r\nimport Navbar from \"./Navbar\";\r\nimport Input from \"./Input\";\r\nimport Taskbar from \"./Taskbar\";\r\nimport {\r\n  ActionGenericType,\r\n  ActionTypes,\r\n  ReducerPayloadType,\r\n  StateType,\r\n  UsageDataType,\r\n} from \"../types\";\r\n\r\nconsole.log(process.env.REACT_APP_MODE);\r\nconst URL =\r\n  process.env.REACT_APP_MODE === \"development\"\r\n    ? \"http://localhost:8000/getData\"\r\n    : process.env.REACT_APP_MODE === \"test\"\r\n    ? \"https://raw.githubusercontent.com/ShaunSHamilton/Energy-API/master/example-response.json\"\r\n    : \"https://energy-app-api.herokuapp.com/getData\";\r\n\r\nconst NAVITEMS = [\r\n  { classes: \"fa fa-history \", name: \"Overview\" },\r\n\r\n  { classes: \"fas fa-calendar-day \", name: \"Today\" },\r\n\r\n  { classes: \"fas fa-calendar-week \", name: \"This Week\" },\r\n\r\n  { classes: \"fas fa-calendar-alt \", name: \"This Month\" },\r\n\r\n  { classes: \"far fa-calendar-alt \", name: \"This Year\" },\r\n\r\n  { classes: \"fa fa-pound-sign \", name: \"Tarrifs\" },\r\n\r\n  { classes: \"fa fa-history \", name: \"Usage\" },\r\n];\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n  return {\r\n    isDark: isDarkSelector(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setUsageData: (payload: UsageDataType[]): ReducerPayloadType => ({\r\n    type: ActionTypes.setUsageData,\r\n    payload,\r\n  }),\r\n};\r\n\r\ninterface Props {\r\n  setUsageData: ActionGenericType<UsageDataType[]>;\r\n  isDark: boolean;\r\n}\r\n\r\nconst App = ({ setUsageData, isDark }: Props) => {\r\n  const [isOpenInput, setIsOpenInput] = useState(false);\r\n  function open() {\r\n    // Get the Sidebar\r\n    const mySidebar = document.getElementById(\"mySidebar\") as HTMLElement;\r\n\r\n    // Get the DIV with overlay effect\r\n    const overlayBg = document.getElementById(\"myOverlay\") as HTMLElement;\r\n    if (mySidebar.style.display === \"block\") {\r\n      mySidebar.style.display = \"none\";\r\n      overlayBg.style.display = \"none\";\r\n    } else {\r\n      mySidebar.style.display = \"block\";\r\n      overlayBg.style.display = \"block\";\r\n    }\r\n  }\r\n\r\n  // Close the sidebar with the close button\r\n  function close() {\r\n    // Get the Sidebar\r\n    const mySidebar = document.getElementById(\"mySidebar\") as HTMLElement;\r\n\r\n    // Get the DIV with overlay effect\r\n    const overlayBg = document.getElementById(\"myOverlay\") as HTMLElement;\r\n    mySidebar.style.display = \"none\";\r\n    overlayBg.style.display = \"none\";\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const data: { usageData: UsageDataType[] } = await (\r\n          await fetch(URL)\r\n        ).json();\r\n        setUsageData(data?.usageData);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const openInput = () => {\r\n    setIsOpenInput(!isOpenInput);\r\n  };\r\n\r\n  return (\r\n    <div className={`light-grey ${isDark ? \"dark-app\" : \"\"}`}>\r\n      <Taskbar open={open} />\r\n      <Navbar close={close} navitems={NAVITEMS} />\r\n      <Dashboard openInput={openInput} />\r\n      {isOpenInput && <Input setIsOpenInput={setIsOpenInput} />}\r\n      <div\r\n        className=\"overlay hide-large animate-opacity\"\r\n        onClick={() => close()}\r\n        style={{ cursor: \"pointer\" }}\r\n        title=\"close side menu\"\r\n        id=\"myOverlay\"\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux\";\r\n\r\nimport App from \"./components/App\";\r\nimport \"./style.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"main\")\r\n);\r\n"],"sourceRoot":""}